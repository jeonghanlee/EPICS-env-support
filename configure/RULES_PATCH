.PHONY: patch.apply patch.revert patch.make

## Apply Patch Files
patch.apply:
	$(QUIET) $(call patch_src)

## Revert Patch Files
patch.revert:
	$(QUIET) $(call revert_patch_src)

patch.make:
	$(QUIET) mkdir -p $(TOP)/patch
	$(QUIET) $(call make_p0_patch)

.PHONY: patch.ADCore.apply patch.ADCore.revert patch.ADCore.make

patch.ADCore.make:
	$(QUIET) mkdir -p $(TOP)/patch
	$(QUIET) cd $(SRC_PATH_ADCORE) && git diff --no-prefix > $(TOP)/patch/adcore-libxml.p0.patch

patch.ADCore.apply:
	$(QUIET) printf "\nPatching %s with the file : %s\n" "$(SRC_PATH_ADCORE)" "adcore-libxml.p0.patch";
	$(QUIET) patch -d $(SRC_PATH_ADCORE) --ignore-whitespace -p0 < $(TOP)/patch/adcore-libxml.p0.patch;

patch.ADCore.revert:
	$(QUIET) printf "\nReverting %s with the file : %s\n" "$(SRC_PATH_ADCore)" "adcore-libxml.p0.patch";
	$(QUIET) patch -R -d $(SRC_PATH_ADCORE) --ignore-whitespace -p0 < $(TOP)/patch/adcore-libxml.p0.patch;

